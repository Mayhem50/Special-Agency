<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">

<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/app-layout/app-box/app-box.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/effects/parallax-background.html">

<link rel="import" href="../bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">

<link rel="import" href="../bower_components/gold-email-input/gold-email-input.html">

<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">

<link rel="import" href="../bower_components/firebase-element/firebase-auth.html">

<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../bower_components/iron-media-query/iron-media-query.html">

<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="sa-theme.html">
<link rel="import" href="sa-icons.html">

<dom-module id="sa-home">

  <template>

    <style is="custom-style" include="sa-theme iron-flex iron-flex-alignment">
        :host {
            display: block;
            width: 100%;
            height: 100vh;
            background-color: rgba(0,0,0,0);
        }

        ::-webkit-scrollbar {
            display: none;
        }

        paper-scroll-header-panel {
            height: 100vh;
        }
      
        app-box {
            height: 766px;
            width : 100%;
            text-align: center;
            --app-box-content:{
                display: flex;
                align-items: center;   
                flex-direction : column;       
            };
            margin : 0 auto;
        }

        paper-icon-button{
            color:var(--text-light-primary-color);
        }

        app-toolbar {
            background-color: var(--dark-secondary-color-with-alpha);
            width: 100%;
            z-index: 10;
            height: 80px;
        }

        app-toolbar > paper-button{
            background-color:#2a8600;
            padding: 0.2em 0.57em;
        }

        iron-image {
            width: 100%;
            --iron-image-width: 100%;
        }

        paper-dialog{
            width: 25vw;
            height: 60vh;
            font-size:15px;
        }

        article {
            font-weight: 100;
            width: 60%;
            text-align: center;
            margin: 0 auto;
        }

            article > div {
                margin: 0 1em;
            }

        h1 {
            font-size: 2em;
            -webkit-margin-before: 0.66em;
            -webkit-margin-after: 0.66em;
        }

        .app-box-content {
            margin: auto;
            font-size: 2em;
            color: var(--text-light-primary-color);
            text-shadow: -0.15em 0.01em #222222;
            display: flex;
            flex-direction: column;
        }

            .app-box-content > div {
                margin: 1.2em 0;
            }

                .app-box-content > div > paper-button {
                    height: 2em;
                    border: solid 0.08em var(--font-light-secondary-color);
                    border-radius: 0.2em;
                    text-shadow: 0 0;
                    font-weight: 100;
                }

                    .app-box-content > div > paper-button:hover {
                        color: var(--text-dark-primary-color);
                        background-color: var(--light-primary-color);
                    }

                .app-box-content > div > div > span {
                    font-size: 3em;
                }

        .special-text {
            color: var(--text-special-primary-color);
        }

        .agent-text {
            color: var(--text-light-secondary-color);
        }

        .agent-dark-text {
            color: var(--text-dark-primary-color);
        }

        .overlay {
            left: 0px;
            right: 0;
            top: 0px;
            bottom: 0px;
            position: absolute;
        }

            .overlay > #scrollingRegion {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                overflow-y: auto;
                /* fixes scroll track's z-index bug in safari*/
                -webkit-transform: translateZ(0);
            }

        #first-box {
            height: 900px;
            --app-box-background-front-layer: {
                background-image: url('../images/homepage/01.jpg');
                background-position: bottom;
                padding-bottom: 120px;
                margin-top: -20px;
                height: 100%;
                @apply(--layout-vertical);
            };
        }
        
        #second-box {
            --app-box-background-front-layer: {
                background-image: url('../images/homepage/02.jpg');
                background-position: bottom;
                padding-bottom: 120px;
                margin-top: -20px;
                height: 100%;
            };
        }
        
        #third-box {
            --app-box-background-front-layer: {
                background-image: url('../images/homepage/03.jpg');
                background-position: bottom;
                padding-bottom: 120px;
                margin-top: -20px;
                height: 100%;
            };
        }
        
        #forth-box {
            --app-box-background-front-layer: {
                background-image: url('../images/homepage/05.jpg');
                background-position: bottom;
                padding-bottom: 120px;
                margin-top: -20px;
                height: 100%;
            };
        }

        #search-bar {
            height: 120px;
            width: 100%;
            background-color: var(--dark-secondary-color-with-alpha);
            display: flex;
            justify-content: center;
            align-items: center;
        }
    
            #search-bar > .input { 
                flex-grow : 2;     
                --paper-input-container :{
                    background-color : var(--light-primary-color);
                    height: 3.75em;
                    padding : 0;
                    display: flex;
                    justify-content: center;
                };
                --paper-input-container-underline : {
                    height : 0;
                };
                --paper-input-container-underline: {
                    height: 0;
                };
                --paper-input-container-underline-focus: {
                    height: 0;
                };
                --paper-input-container-underline-disabled: {
                    height: 0;
                };
                --paper-input-container-label : {                    
                    color: var(--text-light-primary-color);
                };
                margin-right : 0.1em;
            }
    
            #search-bar > .left
            {
                flex-grow : 4;
                --paper-input-container : {
                    background-color : var(--light-primary-color);
                    border-top-left-radius: 0.5em;
                    border-bottom-left-radius: 0.5em;
                    height: 3.75em;
                    padding : 0;
                    display: flex;
                    justify-content: center;
                };
            }
    
            #search-bar > paper-button
            {
              flex-grow : 3;
              background-color : #0693D3;
              border-top-right-radius: 0.5em;
              border-bottom-right-radius: 0.5em;
              border-top-left-radius: 0px;
              border-bottom-left-radius: 0px;
              height: 3.75em;
              margin : 0;
              margin-right: 20%;
              color: var(--text-light-secondary-color);
              font-weight: 100;
            }
    
            #search-bar > div{      
              flex-grow: 3;
              margin-left: 6%;
              color: var(--text-light-primary-color);
              font-size: 25px; 
              text-align: left;     
            }

        @media (max-width: 860px) {
            app-box {
            height: 380px;
            width : 100%;
            text-align: center;
            --app-box-content:{
                display: flex;
                align-items: center;   
                flex-direction : column;       
            };
            margin : 0 auto;
        }

        app-toolbar {
            height: 50px;
        }

        app-toolbar > paper-button{
            background-color:#2a8600;
            padding: 0.05em 0.2em;
        }

        iron-image {
            width: 100%;
            --iron-image-width: 100%;
        }

        paper-dialog{
            width: 99vw;
            height: 95vh;
            font-size:10px;
        }

        article {
            width: 100%;
        }

            article > div {
                margin: 0 0.5em;
            }

        h1 {
            font-size: 2em;
            -webkit-margin-before: 0.66em;
            -webkit-margin-after: 0.66em;
        }

        .app-box-content {
            font-size: 1.1em;
            width: 100%;
            text-shadow: -0.05em 0.001em #222222;
        }

            .app-box-content > div {
                margin: 0.2em 0;
            }

                .app-box-content > div > paper-button {
                    height: 1em;
                    border-radius: 0.02em;
                }

                .app-box-content > div > span {
                    font-size: 1em;
                }

        #first-box {
            height: 460px;
            background-image: url('../images/homepage/01.jpg');
            background-size: cover;
        }

        #search-bar {
            height: 60px;
            font-size: 8px;
        }
    
            #search-bar > div{      
              margin-left: 6%;
              font-size: 12px;      
            }
            
            #search-bar > paper-button{      
              margin-right: 6%;    
            }

        .wrapped{
            flex-wrap:wrap;
        } 
        }

        @media (max-width: 320px) {   

            paper-dialog{
                width: 99vw;
                height: 90vh;
                font-size:12px;
            }
        
        }
    
    </style>

      <firebase-auth id="firebaseLogin" user="{{user}}" 
                     location="https://special-agent.firebaseio.com" 
                     status-known="{{known}}"
                     provider="[[provider]]"
                     on-error="_errorHandler" 
                     on-user-created="_userSuccessHandler"
                     on-login="_loginHandler"></firebase-auth>

      <firebase-collection data="{{userDatas}}" location="{{_computeLocation(uid)}}" log></firebase-collection>

      <iron-media-query query="(min-width:860px)" query-matches="{{wide}}"></iron-media-query>
                       
      <paper-scroll-header-panel>
          <app-toolbar>
              <template is="dom-if" if="{{wide}}">
                  <paper-button on-tap="_login"><iron-icon icon="icons:account-circle"></iron-icon>Se connecter</paper-button>
              </template>
              <template is="dom-if" if="{{!wide}}">
                  <paper-icon-button on-tap="_login" icon="icons:account-circle"></paper-icon-button>
              </template>
          </app-toolbar>

          <div class="overlay">
              <div id="scrollingRegion">
                  <section>
                      <app-box scroll-target="scrollingRegion" effects="parallax-background" id="first-box">
                          <div class="app-box-content layout vertical">
                              <div>
                                  <div>Nous avons tous besoin des services d'un</div>
                                  <div>
                                      <span class="special-text">Special</span><span class="agent-text">Agent</span>
                                  </div>
                              </div>
                              <div>
                                  <paper-button>Créer une mission</paper-button>
                                  <paper-button>Devenir agent</paper-button>
                              </div>
                          </div>
                          <div id="search-bar">
                              <div>Besoin d'action ?</div>
                              <paper-input id="whereInput" class="input left" no-label-float always-float-label="false" label="Où ?"></paper-input>
                              <paper-dropdown-menu id="kindsSelector" class="input" no-label-float always-float-label="false" label="Catégories"></paper-dropdown-menu>
                              <paper-button class="right">Trouver</paper-button>
                          </div>
                      </app-box>                      

                      <article class="layout horizontal around-justified wrapped">
                          <div>
                              <h1>
                                  <span class="special-text">Special</span><span class="agent-dark-text">Missions</span>
                              </h1>
                              <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                              <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                          </div>
                          <div>
                              <h1>
                                  <span class="special-text">Special</span><span class="agent-dark-text">Sponsors</span>
                              </h1>
                              <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                              <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                          </div>
                          <div>
                              <h1>
                                  <span class="special-text">Special</span><span class="agent-dark-text">Agents</span>
                              </h1>
                              <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                              <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                          </div>
                      </article>
                  </section>

                  <section>
                      <app-box scroll-target="scrollingRegion" effects="parallax-background" id="second-box">
                      </app-box>
                      <article class="layout vertical">
                          <div>
                              <h1>
                                  <span class="special-text">Special</span><span class="agent-dark-text">Missions</span>
                              </h1>
                          </div>
                          <div class="layout horizontal around-justified  wrapped">
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                          </div>
                      </article>
                  </section>

                  <section>
                      <app-box scroll-target="scrollingRegion" effects="parallax-background" id="third-box">
                      </app-box>
                      <article class="layout vertical">
                          <div>
                              <h1>
                                  <span class="special-text">Special</span><span class="agent-dark-text">Sponsors</span>
                              </h1>
                          </div>
                          <div class="layout horizontal around-justified  wrapped">
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                          </div>
                      </article>
                  </section>

                  <section>
                      <app-box scroll-target="scrollingRegion" effects="parallax-background" id="forth-box">
                      </app-box>
                      <article class="layout vertical">
                          <div>
                              <h1>
                                  <span class="special-text">Special</span><span class="agent-dark-text">Agents</span>
                              </h1>
                          </div>
                          <div class="layout horizontal around-justified wrapped">
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                              <div>
                                  <p>Ut labores minimum atomorum pro. Laudem tibique ut has.
                                  <p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p>
                              </div>
                          </div>
                      </article>
                  </section>
              </div>
          </div>
      </paper-scroll-header-panel>

      <paper-dialog id="loginDialog" 
                    class="layout vertical" 
                    on-iron-overlay-canceled="_resetDialog"
                    on-iron-overlay-closed="_resetDialog"
                    always-on-top 
                    entry-animation="fade-in-animation"
                    exit-animation="fade-out-animation">
          <iron-collapse id="collapse" opened="{{open}}">
              <div class="layout vertical justified ">
                  <div>Connectez vous avec :</div>
                  <template is="dom-if" if="{{wide}}">
                      <div class="layout horizontal center around-justified">
                          <!--TODO Use only one method-->
                          <paper-button id="twitter" on-tap="_requestTwitterLogin" raised><iron-icon src="../images/logos/twitter.png"></iron-icon>Twitter</paper-button>
                          <paper-button id="google" on-tap="_requestGoogleLogin" raised><iron-icon src="../images/logos/google.png"></iron-icon>Google</paper-button>
                          <paper-button id="facebook" on-tap="_requestFacebookLogin" raised><iron-icon src="../images/logos/facebook.png"></iron-icon>Facebook</paper-button>
                      </div>
                  </template>
                  <template is="dom-if" if="{{!wide}}">
                      <div class="layout horizontal center around-justified">
                          <!--TODO Use only one method-->
                          <paper-icon-button id="twitter" on-tap="_requestTwitterLogin" raised src="../images/logos/twitter.png"></paper-icon-button>
                          <paper-icon-button id="google" on-tap="_requestGoogleLogin" raised src="../images/logos/google.png"></paper-icon-button>
                          <paper-icon-button id="facebook" on-tap="_requestFacebookLogin" raised src="../images/logos/facebook.png"></paper-icon-button>
                      </div>
                  </template>
                  <div style="text-align:center;margin-top:2em;">ou avec vos identifiants</div>
                  <div class="layout vertical">
                      <gold-email-input id="loginEmail" label="E-mail" value="{{email}}" auto-validate></gold-email-input>
                      <paper-input id="loginPassword" label="Password" value="{{password}}" type="password"></paper-input>
                      </br>
                      <paper-button on-tap="_resendPassword">Mot de passe oublié ?</paper-button>
                      </br>
                      <paper-button id="password" on-tap="_requestPasswordLogin" raised>Connexion</paper-button>
                  </div>
                  <div class="layout vertical" center-justified>
                      <div style="text-align:center;margin-top:2em;">Pas encore inscrit ?</div>
                      <paper-button id="signup" on-tap="_requestSignup" raised>Incription</paper-button>
                  </div>
              </div>
          </iron-collapse>
          <iron-collapse opened="[[!open]]">
              <div class="layout vertical justified">
                  <div><paper-icon-button on-tap="_signin" icon="icons:arrow-back"></paper-icon-button></div>
                  <paper-input id="signupLastName" label="Nom" value="{{lastName}}"></paper-input>
                  <paper-input id="signupFirstName" label="Prénom" value="{{firstName}}"></paper-input>
                  <gold-email-input id="signupEmail" label="E-mail" value="{{email}}" auto-validate></gold-email-input>
                  <paper-input id="signupPassword" label="Password" value="{{password}}" type="password"></paper-input>
                  <paper-input id="signupConfirmPassword" label="Confirm password" value="{{confirmPassword}}" type="password"></paper-input>
                  </br>
                  <paper-button type="password" on-tap="_signUp" raised>Inscription</paper-button>
              </div>
          </iron-collapse>
      </paper-dialog>

  </template>

    <script>
        Polymer({

            is: 'sa-home',

            properties : {
                open: {
                    type: Boolean,
                    value: true
                },

                routeData: {
                    type: Object,
                    notify: true
                },

                user: {
                    type: Object,
                    notify: true
                }
            },

            attached: function () {
                // Set offset of app-toolbar and repos paper-scroll-header-panel
                this.async(function () {
                    window.addEventListener('resize', this._adaptHomePage.bind(this));
                    this._adaptHomePage();
                }.bind(this));
            },

            _adaptHomePage:function(){
                //this.$$('paper-scroll-header-panel').style.height = this.$$('paper-scroll-header-panel').getBoundingClientRect().height + this.$$('app-toolbar').getBoundingClientRect().height + 'px';

                if (!this.wide) {
                    this.$$('#first-box').$$('#contentContainer').style.display = 'flex';
                    this.$$('#first-box').$$('#contentContainer').style.flexDirection = 'column';
                }
            },

            _login: function(){
                this.$.loginDialog.open();
            },

            _requestTwitterLogin:function(){
                this.provider = 'twitter';
                this._requestLogin();
            },

            _requestGoogleLogin: function () {
                this.provider = 'google';
                this._requestLogin();
            },

            _requestFacebookLogin: function () {
                this.provider = 'facebook';
                this._requestLogin();
            },

            _requestPasswordLogin: function () {
                this.provider = 'password';
                this._requestLogin();
            },

            _requestLogin: function () {
                if (this.provider === 'password') {
                    this.$.firebaseLogin.login({
                        'email': this.email,
                        'password': this.password
                    });
                }
                else {
                    this.$.firebaseLogin.login();
                }
            },

            _loginHandler: function (e) {
                if (this.$.firebaseLogin.provider === 'password' && this.firstName != '' && this.lastName != '') {
                    this.user.password.displayName = this.firstName + ' ' + this.lastName;
                    this.user.password.firstName = this.firstName;
                    this.user.password.lastName = this.lastName;
                }

                this.$.loginDialog.close();
                this._saveUserInfo();                
            },

            _errorHandler: function (e) {
                this.$.loginEmail.invalid = this.$.loginPassword.invalid = true;
            },

            _userSuccessHandler: function (e) {
                this.$.loginEmail.invalid = this.$.loginPassword.invalid = false;
                this.provider = 'password';
                this._requestLogin();
            },

            _requestSignup: function (e) {
                this.$.collapse.hide();
            },

            _signin: function (e) {
                this.$.collapse.show();
            },

            _resendPassword: function(){
                if (this.$.loginEmail.invalid) { return;}
                this.$.firebaseLogin.sendPasswordResetEmail(this.email);
            },

            _saveUserInfo: function () {
                if (!this.user) { return;}
                var ref = new Firebase('https://specialagency.firebaseio.com/users/' + this.user.uid);

                var userExist = false;

                ref.once('value').then(function (snapshot) {
                    this.user = snapshot.val();

                    if (!this.user[this.user.provider].displayName) {
                        this.user.auth.token = null;
                        ref.update(this.user);
                    }
                    window.localStorage.clear();
                    window.localStorage.setItem('firebase:session::specialagency', JSON.stringify(this.user));

                    if (this.known && this.user) {
                        this.set('routeData.page', 'dashboard');
                    }
                }.bind(this));                
            },

            _resetDialog: function () {
                this.async(function () {
                    this.$.collapse.show();
                }.bind(this), 1000);
            },

            _signUp: function () {
                var res = true;
                if (this.firstName === '' || this.$.signupEmail.invalid) {
                    this.$.signupFirstName.invalid = true;
                    this.$.signupFirstName.errorMessage = 'Le nom ne peut être vide';
                    ret &= false;
                }
                else {
                    this.$.signupFirstName.invalid = false;
                    this.$.signupFirstName.errorMessage = '';
                }

                if (this.lastName === '' || this.$.signupEmail.invalid) {
                    this.$.signupLastName.invalid = true;
                    this.$.signupLastName.errorMessage = 'Le prénom ne peut être vide';
                    ret &= false;
                }
                else {
                    this.$.signupLastName.invalid = false;
                    this.$.signupLastName.errorMessage = '';
                }

                if (this.signupEmail === '' || this.$.signupEmail.invalid) {
                    this.$.signupEmail.invalid = true;
                    ret &= false;
                }
                else {
                    this.$.signupEmail.invalid = false;
                }

                if (this.signupPassword === '' || this.password != this.confirmPassword) {
                    this.$.signupPassword.invalid = true;
                    this.$.signupConfirmPassword.invalid = true;
                    ret &= false;
                }
                else {
                    this.$.signupEmail.invalid = false;
                    this.$.signupConfirmPassword.invalid = true;
                }

                if (res) {
                    this.$.firebaseLogin.createUser(this.email, this.password);
                }
            }
      });
    </script>

</dom-module>