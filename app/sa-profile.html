<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-spinner/paper-spinner.html">

<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="sa-theme.html">
<link rel="import" href="sa-icons.html">

<dom-module id="sa-profile">

    <template>

        <style is="custom-style" include="sa-theme iron-flex iron-flex-alignment">
            :host {
                display: block;
                @apply(--layout-vertical);
                @apply(--layout-center);
                height:100%;
            }

            #avatar {
                width: 15em;
                height:15em;
                background-size: contain;
                border-radius: 50%;
                background-size: 100%;
                margin: 0.5em;
                @apply(--layout-vertical);
                @apply(--layout-center);
                @apply(--layout-end-justified);
            }
        </style>

        <div id="avatar" style="background-image:url({{_computeAvatar(userData)}})">
            <paper-spinner active="[[loading]]"></paper-spinner>
        </div>

        <section>
            <h1>Connexion</h1>
            <paper-input label="Votre e-mail" value="{{userData.email}}" disabled></paper-input>
            <paper-input label="Votre mot de passe" value="******" typeof="password"></paper-input>
        </section>

        <section>
            <h1>Informations visible sur le site</h1>
            <paper-input label="Votre pseudo" value="{{userData.displayName}}"></paper-input>
        </section>

        <section>
            <h1>Informations personnelles</h1>
            <paper-input label="Votre Pr&eacute;nom" value="{{userData.firstName}}"></paper-input>
            <paper-input label="Votre Nom" value="{{userData.lastName}}"></paper-input>
            <div>Votre date de naissance: {{userData.birthDate}}</div>
            <div>Votre adresse: </div>
            <div>Votre t&eacute;l&eacute;phone: </div>
        </section>
        

    </template>

    <script>
        Polymer({

            is: 'sa-profile',

            properties: {
                userData: {
                    type: Object,
                    notify : true
                }
            },

            ready: function(){
                this.loading = true;
            },

            _computeAvatar: function (userData) {
                if (userData) {
                    this.loading = false;
                    return userData.photoURL;
                }
            }
        });
    </script>

</dom-module>